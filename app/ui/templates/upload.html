{% extends "layout.html" %}
{% block content %}
  <div class="card" style="margin-top:16px;">
    <h1>Manual Upload</h1>
    <p>Upload a file and process it immediately using your templates.</p>

    <form method="post" action="/upload" enctype="multipart/form-data">
      <label>Document</label>
      <input type="file" name="file" required />

      <div style="margin-top:12px;">
        <button class="btn primary" type="submit">Upload & Process</button>
        <a class="btn" href="/">Back</a>
      </div>
    </form>

    {% if result %}
      <hr style="border:0; border-top:1px solid rgba(255,255,255,0.10); margin:16px 0;" />
      <h2>Result</h2>
      <p>Status: <span class="badge {{ result.status }}">{{ result.status }}</span></p>
      <p><b>Message</b>: <span class="code">{{ result.message }}</span></p>
      <p><b>Destination</b>: <span class="code">{{ result.dest_path or "-" }}</span></p>
      <p><b>Extracted</b>:
        <div class="code">company={{ result.extracted_company }}
invoice_number={{ result.extracted_invoice_number }}
date={{ result.extracted_date }}</div>
      </p>
    {% endif %}
  </div>
{% endblock %}
